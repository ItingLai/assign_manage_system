import{d as y,N as b,S as x,O as E,r as k,f as _,o as B,U as N,a as U,c as q,e as u,b as t,g as a,u as s,V as z,P as C,z as R,m as S,E as T,s as F,v as I,j as K}from"./index-2d2b0b3d.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */const M={class:"wrapper"},$=u("h3",{style:{"text-align":"center"}},"排班管理系統登入",-1),h={class:"loginBtnWrapper"},A=y({__name:"login",setup(j){const m=b(),c=x(),{login:f}=m,{isLogin:g}=E(m),n=k(null),o=_({username:"",password:""}),i=l=>{l&&l.validate(e=>{e?f(o.username,o.password):T.error("帳號密碼格式錯誤!")})},w=_({username:[{required:!0,message:"請輸入帳號",trigger:"blur"},{min:6,max:20,message:"長度需介於6-20個字符",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{min:6,message:"密碼長度需大於6個字符",trigger:"blur"}]});return B(()=>{N(()=>{g.value&&C.push(c.query.redirect||"/")})}),(l,e)=>{const d=F,p=I,v=K,V=R;return U(),q("div",null,[u("div",M,[t(V,{model:s(o),ref_key:"formRef",ref:n,rules:s(w),onKeyup:e[3]||(e[3]=z(r=>i(s(n)),["enter"]))},{default:a(()=>[$,t(p,{label:"帳號",prop:"username"},{default:a(()=>[t(d,{modelValue:s(o).username,"onUpdate:modelValue":e[0]||(e[0]=r=>s(o).username=r),autosize:""},null,8,["modelValue"])]),_:1}),t(p,{label:"密碼",prop:"password"},{default:a(()=>[t(d,{modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).password=r),autosize:"",type:"password","show-password":!0},null,8,["modelValue"])]),_:1}),u("div",h,[t(v,{type:"primary",onClick:e[2]||(e[2]=r=>i(s(n)))},{default:a(()=>[S("登入")]),_:1})])]),_:1},8,["model","rules"])])])}}});export{A as default};
